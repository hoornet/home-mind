# LibreChat configuration for Home Assistant MCP integration
# Copy this file to your LibreChat directory as librechat.yaml
# Documentation: https://www.librechat.ai/docs/configuration

version: 1.2.1

# Memory configuration - enables persistent memory across chat sessions
# Documentation: https://www.librechat.ai/docs/configuration/librechat_yaml/object_structure/memory
memory:
  disabled: false
  # Token limit for memory storage (controls costs)
  tokenLimit: 2000
  # Max characters per memory entry
  charLimit: 10000
  # Allow users to toggle memory on/off per chat
  personalize: true
  # Number of recent messages analyzed for memory updates
  messageWindowSize: 5
  # Agent that processes and stores memories (runs before each response)
  agent:
    provider: "anthropic"
    model: "claude-sonnet-4-20250514"
    # Optional: customize what the memory agent focuses on
    # instructions: "Remember user preferences, sensor baselines, and device nicknames."

mcpServers:
  homeassistant:
    type: stdio
    command: node
    args:
      - /app/mcp-server/dist/index.js
    env:
      # Home Assistant URL (use HTTPS if your instance requires it)
      HA_URL: "https://your-homeassistant-instance:8123"
      # Long-lived access token from HA (Profile > Security > Long-Lived Access Tokens)
      HA_TOKEN: "your_long_lived_access_token_here"
      # Set to "true" if using self-signed certificates
      HA_SKIP_TLS_VERIFY: "true"
    timeout: 30000
    # Optional: Custom icon for the MCP server in LibreChat UI
    # iconPath: /app/mcp-server/icon.svg
